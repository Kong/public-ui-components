@use "@kong/design-tokens/tokens/scss/variables" as *;

/**
 * Mixin for creating a tree-like indented structure with connecting lines
 * @param {string} $indent-size - Left padding size (default: $kui-space-70)
 * @param {string} $line-color - Color of the tree lines (default: $kui-color-border)
 * @param {string} $line-width - Width of the tree lines (default: $kui-border-width-10)
 * @param {string} $branch-length - Horizontal branch length (default: 8px)
 * @param {number} $line-height - Height of vertical line (default: 132px)
 */
@mixin tree-indent(
  $indent-size: $kui-space-70,
  $line-color: $kui-color-border,
  $line-width: $kui-border-width-10,
  $branch-length: 8px,
  $line-height: 132px
) {
  padding-left: $indent-size;
  position: relative;

  &::before {
    border-left: $line-width solid $line-color;
    content: '';
    display: block;
    height: $line-height;
    left: $branch-length;
    position: absolute;
    top: -16px;
    width: 0;
  }

  &::after {
    border-top: $line-width solid $line-color;
    content: '';
    display: block;
    height: 0;
    left: $branch-length + 1px;
    position: absolute;
    top: 9px;
    width: $branch-length;
  }

  &:last-child::before {
    border-bottom: $line-width solid $line-color;
    border-bottom-left-radius: $kui-border-radius-10;
    height: 25px;
    width: $branch-length;
  }

  &:last-child::after {
    display: none;
  }
}
